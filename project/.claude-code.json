{
  "rules": [
    "NEVER use AI attribution in commit messages (no 'Generated with Claude Code' or Co-Authored-By lines)",
    "Always read existing files before making changes",
    "Prefer editing existing files over creating new ones when possible",
    "Use TodoWrite tool to track progress on complex tasks",
    "Follow established git workflow and branch naming conventions",
    "Reference issue numbers in commits when applicable",
    "Update ALL affected documentation proactively without being asked",
    "Test that changes don't break existing functionality",
    "Maintain backward compatibility where possible",
    "When adding labels to GitHub issues: First check existing labels with 'gh label list', look for semantically similar labels, use existing ones when possible, only create new labels when genuinely needed"
  ],
  "documentation_checklist": [
    "README.md files (main and service-specific)",
    "Architecture documentation",
    "Configuration guides and environment variables", 
    "CLAUDE.md (commands, services, ports, workflows)",
    "Getting started guides if user experience changes",
    "Docker compose comments for new services"
  ],
  "commit_guidelines": {
    "never_include": [
      "Generated with Claude Code",
      "Co-Authored-By: Claude",
      "ðŸ¤– Generated with",
      "AI attribution"
    ],
    "always_include": [
      "Reference to issue numbers when applicable",
      "Clear description of what changed and why"
    ]
  },
  "workflow_principles": {
    "scope_boundaries": "Ask for clarification when scope is unclear",
    "technical_approach": "Propose options when multiple paths exist", 
    "dependencies": "Stop and ask when blockers are found",
    "testing": {
      "coverage_requirements": "Maintain high test coverage for all code changes",
      "unit_tests": "Write unit tests for all new functions, methods, and business logic",
      "integration_tests": "Add integration tests for API endpoints and service interactions", 
      "edge_cases": "Test error conditions, boundary values, and failure scenarios",
      "regression_tests": "Add tests that prevent reoccurrence of fixed bugs",
      "test_before_commit": "Run existing tests before committing to ensure no breakage",
      "service_specific": "Adapt testing strategy to service type (backend, frontend, protocols, etc.)",
      "cross_service_testing": "Test microservice interactions and communication protocols when applicable"
    }
  },
  "repository_context": {
    "service_role": "TEMPLATE - This is the master template for all .claude-code.json files",
    "service_type": "Configuration template",
    "template_usage": "Copy and customize this file for each microservice with specific context",
    "readme_section_template": "### Claude Code Configuration\n\nThis repository includes a `.claude-code.json` configuration file that provides Claude Code with project-specific context:\n\n- **Service Role**: [Describe this service's role in the microservice architecture]\n- **Testing Requirements**: [Service-specific testing strategy and requirements]\n- **Architecture Awareness**: [Dependencies and service relationships]\n- **Cross-Service Coordination**: [How this service coordinates with others]\n\nSee the main project documentation at [`loqa/config/CLAUDE.md`](https://github.com/loqalabs/loqa/blob/main/config/CLAUDE.md) for complete details.",
    "microservice_architecture": {
      "structure": "Part of loqalabs/ microservice ecosystem - each subfolder is an independent git repository",
      "peer_services_location": "../ (one folder up from current repo)",
      "check_before_cloning": "Always check if ../SERVICE_NAME exists before attempting to clone repositories",
      "template_role": "This template should be customized for each service's specific role and dependencies",
      "cross_service_changes": {
        "simple_changes": "Make directly to main branch of supporting repos (proto, configs)",
        "complex_changes": "Create matching feature branches across affected repos",
        "merge_order": "Supporting repos first (proto, skills), core services, UI services last"
      }
    }
  },
  "best_practices": [
    "Preserve privacy-first design principles",
    "Maintain microservice architecture benefits", 
    "Keep changes focused and atomic",
    "Update cross-repository references consistently",
    "Use consistent tagging and categorization",
    "Make changes easy to find and understand later"
  ],
  "github_issue_management": {
    "tagging_workflow": {
      "step_1": "Always run 'gh label list' first to see existing labels",
      "step_2": "Look for semantically similar labels (e.g., 'dependencies' instead of 'deps', 'type: feature' instead of 'feature')",
      "step_3": "Use existing labels when they match the intent, even if wording is slightly different",
      "step_4": "Only create new labels when no existing label captures the concept",
      "step_5": "When creating new labels, follow existing naming patterns (e.g., 'area:', 'type:', 'priority:')"
    },
    "label_categories": {
      "type": ["type: bug", "type: feature", "type: chore", "type: improvement"],
      "priority": ["priority: high", "priority: medium", "priority: low"],
      "area": ["area: backend", "area: frontend", "area: docs", "area: infrastructure"],
      "milestone": ["p1-mvp", "p2-high-impact", "p3-future"],
      "component": ["skills", "dashboard", "stt", "tts", "llm", "relay", "mac-mini"]
    },
    "common_substitutions": {
      "deps": "dependencies",
      "feat": "type: feature",
      "bug": "type: bug",
      "docs": "area: docs",
      "ui": "area: frontend",
      "api": "area: backend",
      "critical": "priority: high",
      "urgent": "priority: high",
      "low": "priority: low"
    }
  },
  "avoid": [
    "Making changes without understanding current state",
    "Breaking existing functionality unnecessarily",
    "Creating new files when editing existing ones works",
    "Rushing implementation without proper planning",
    "Ignoring dependencies between repositories",
    "Over-analyzing ideas that just need to be captured"
  ]
}